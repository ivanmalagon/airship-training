/*! Built with http://stenciljs.com */
const{h:e}=window.airship;class t{constructor(){this.sections=[]}render(){return[this.renderTabs(),this.renderContent()]}renderContent(){return e("section",{class:"as-content"},e("slot",null))}componentWillLoad(){this.sections=this.getContentSections()}componentDidLoad(){this.ready.emit()}getSections(){return this.sections}setVisible(e){const t=this.sections.find(t=>t.name===e);t&&this.setActive(t)}renderTabs(){const t=this.sections.map((t,s)=>{if(!t.element)return;const a={"as-tabs__item":!0,"as-tabs__item--active":t.active};return e("button",{onClick:()=>this.setActive(t),role:"tab",class:a},t.name||s)});return e("div",{role:"tablist",class:"as-toolbar-tabs as-tabs as-tabs--xl"},t)}setActive(e){e.active||(this.disableActiveSection(),e.activeAction?e.activeAction(e):(e.element.classList.add(e.activeClass||s[e.type]),e.active=!0),this.activeSection=e,this.sections=[...this.sections],this.sectionChange.emit(e))}disableActiveSection(){this.activeSection&&(this.activeSection.disableAction?this.activeSection.disableAction(this.activeSection):(this.activeSection.element.classList.remove(this.activeSection.activeClass||s[this.activeSection.type]),this.activeSection.active=!1))}getContentSections(){const e=[this.getMap(),...this.getSidebars(),...this.getPanels(),this.getMapFooter()];return e.length&&(e.sort((e,t)=>e.tabOrder-t.tabOrder),this.setActive(e[0])),e}getMap(){const e=this.element.querySelector(".as-map-area");return{activeAction:function(e){e.active=!0},disableAction:function(e){e.active=!1},element:e,name:e.getAttribute("data-name")||"Map",tabOrder:e.getAttribute("data-tab-order")||0,type:"map"}}getSidebars(){return Array.from(this.element.querySelectorAll(".as-sidebar")).map((e,t)=>({activeClass:"as-sidebar--visible",element:e,name:e.getAttribute("data-name")||`Sidebar ${t}`,tabOrder:e.getAttribute("data-tab-order")||0,type:"sidebar"}))}getPanels(){return Array.from(this.element.querySelectorAll(".as-map-panels")).map((e,t)=>({element:e,name:e.getAttribute("data-name")||`Panel ${t}`,tabOrder:e.getAttribute("data-tab-order")||0,type:"panels"}))}getMapFooter(){const e=this.element.querySelector(".as-map-footer");return{element:e,name:e&&e.getAttribute("data-name")||"Bottom Bar",tabOrder:e&&e.getAttribute("data-tab-order")||0,type:"mapFooter"}}static get is(){return"as-responsive-content"}static get properties(){return{element:{elementRef:!0},getSections:{method:!0},sections:{state:!0},setVisible:{method:!0}}}static get events(){return[{name:"ready",method:"ready",bubbles:!0,cancelable:!0,composed:!0},{name:"sectionChange",method:"sectionChange",bubbles:!0,cancelable:!0,composed:!0}]}static get style(){return"\@import url(https://fonts.googleapis.com/css?family=Overpass+Mono|Roboto:300,400,500,700);\@import url(https://fonts.googleapis.com/css?family=Overpass+Mono|Roboto:300,400,500,700);as-responsive-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}"}}const s={mapFooter:"as-map-footer--visible",panels:"as-map-panels--visible"};export{t as AsResponsiveContent};